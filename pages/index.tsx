import Head from "next/head";
import Image from "next/image";
import { Box, Container, Typography, Button } from "@material-ui/core";
import React from "react";
import useMobile from "../hooks/useMobile";
import InputNumber from "../components/InputNumber";
import { users } from "../hooks/users";
import Loader from "../components/Loader";
import UserList from "../components/UserList";

export default function Home() {
  const isMobile = useMobile();
  const { usersInfo, loader } = users();
  const firstAssessment = false;
  return (
    <Box style={{ backgroundColor: "#aaa1a0", borderBottom: 'dashed' }}>
      <Container>
        <Head>
          <title>Dina Challenge</title>
          <meta name="description" content="Generated by create next app" />
          <link rel="icon" href="/favicon.ico" />
        </Head>

        {firstAssessment ? (
          <>
            <Box display="flex" alignItems="center">
              <Image
                src="/dina-logo.jpeg"
                alt="digital-natives"
                width={100}
                height={100}
              />
              <Box marginLeft={isMobile ? 1 : 12}>
                {isMobile ? (
                  <Typography variant="h6">
                    Arabic number conversion tool
                  </Typography>
                ) : (
                  <Typography variant="h3">
                    Arabic number conversion tool
                  </Typography>
                )}
              </Box>
            </Box>
            <Box display="flex" flexDirection="column" alignItems="center">
              <InputNumber />
            </Box>
          </>
        ) : (
          <>
            <Box display="flex" alignItems="center" margin="0">
              <Image
                src="/dina-logo.jpeg"
                alt="digital-natives"
                width={100}
                height={100}
              />
              <Box marginLeft={isMobile ? 1 : 12}>
                <Typography variant="h3">User List</Typography>
              </Box>
            </Box>
            <Box display="flex" justifyContent="flex-end" mb={1}>
              <Button variant="contained" color="secondary" href="./new">
                Create user
              </Button>
            </Box>
            <Box display="flex" justifyContent="center">
              {loader ? <Loader /> : <UserList userList={usersInfo} />}
            </Box>
          </>
        )}
      </Container>
    </Box>
  );
}
